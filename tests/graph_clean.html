<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="../cp.js"></script>
</head>
<body>
</body>
<script>

function fillWithRandom(numNodes, numEdges){
	for(var i = 0; i < numNodes; i++){ graph.newNode(); }
	for(var i = 0; i < numEdges; i++){
		var one = Math.floor( Math.random()*numNodes );
		var two = Math.floor( Math.random()*numNodes );
		graph.newEdge(graph.nodes[one], graph.nodes[two]);
	}
}

var graph = new Graph();

var NODE_COUNT = 5;
var EDGE_COUNT = 3;

// CREATE A GRAPH, RANDOM COMPONENTS
fillWithRandom(NODE_COUNT, EDGE_COUNT);

document.body.innerHTML += "<h1>" + graph.nodes.length + " Nodes, " + graph.edges.length + " Edges</h1>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var cleanReport = graph.removeDuplicateEdges();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Clean Duplicate Edges</h1>";
document.body.innerHTML += "<h3>Cleaning... removed " + cleanReport.edges.duplicate + " Edges</h3>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var cleanReport = graph.removeCircularEdges();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Clean Circular Edges</h1>";
document.body.innerHTML += "<h3>Cleaning... removed " + cleanReport.edges.circular + " Edges</h3>";

var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

//////////////////
var cleanReport = graph.removeIsolatedNodes();

document.body.innerHTML += "<hr>";
document.body.innerHTML += "<h1>Remove Isolated Nodes</h1>";
document.body.innerHTML += "Node indices will update with their new values counting up from zero, look closely to see the consistencies inside the edges.";
document.body.innerHTML += "<h3>Cleaning... removed " + cleanReport.nodes.isolated + " Nodes</h3>";


var nodeString = "NODES: ";
for(var i = 0; i < graph.nodes.length; i++){ nodeString += "(" + graph.nodes[i].index + ") "; }
document.body.innerHTML += nodeString;

document.body.innerHTML += "<br>";

var edgeString = "EDGES: ";
for(var i = 0; i < graph.edges.length; i++){
	edgeString += "(" + graph.edges[i].nodes[0].index + "," + graph.edges[i].nodes[1].index + ") ";
}
document.body.innerHTML += edgeString;

document.body.innerHTML += "<hr>";
document.body.innerHTML += "Calling graph.clean() subsequently calls removeDuplicateEdges() and removeCircularEdges(), but not removeIsolatedNodes(). It leaves the nodes alone.";

</script>
</html>